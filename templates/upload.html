{% extends 'layout.html' %}
{% block title %}Upload File | FriOS{% endblock %}
{% block content %}

<h2>Upload a New File</h2>
<p class="upload-description">Please fill in the details below to upload your file to the FriOS system.</p>

<form action="{{ url_for('upload_file') }}" method="POST" enctype="multipart/form-data" class="upload-form">

  <div class="form-group">
    <label for="file" class="file-label">
      <i class="bi bi-file-earmark-arrow-up"></i> Choose File
    </label>
    <input type="file" name="file" id="file" required onchange="updateFileName(this)">
    <span id="selected-filename" class="file-name-preview">No file selected</span>
  </div>

  <div class="form-group">
    <label for="category">Category <small>(optional)</small></label>
    <input type="text" name="category" id="category" placeholder="e.g. Lite, Pro, SnapShot...">
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea name="description" id="description" rows="4" placeholder="Describe the file's purpose or changes."></textarea>
  </div>

  <button type="submit" class="upload-btn">
    <i class="bi bi-cloud-upload"></i> Upload File
  </button>

</form>

<script>
  function updateFileName(input) {
    const preview = document.getElementById('selected-filename');
    preview.textContent = input.files.length > 0 ? input.files[0].name : "No file selected";
  }
</script>

{% endblock %}
